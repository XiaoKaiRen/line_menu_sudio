<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LINE Rich Menu 查看器</title>
  <link rel="stylesheet" href="css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    /* 綁定用戶對話框樣式 */
    #link-user-dialog .upload-dialog-content {
      max-width: 450px;
    }
    
    #link-user-dialog label {
      display: block;
      margin-bottom: 5px;
      font-weight: 500;
    }
    
    #link-user-dialog input[type="text"] {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 16px;
    }
    
    #link-user-dialog .hint {
      font-size: 13px;
      color: #666;
      margin-top: 0;
      margin-bottom: 15px;
    }
    
    #link-user-dialog .link-user-info {
      background-color: #f5f5f5;
      padding: 10px;
      border-radius: 4px;
      margin-bottom: 15px;
    }
    
    /* 卡片內按鈕 2x2 網格排列 */
    .richmenu-card .richmenu-actions {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      grid-template-rows: repeat(2, auto);
      grid-gap: 10px;
      margin-top: 10px;
    }
    
    .richmenu-card .richmenu-actions button {
      margin: 0;
      width: 100%;
    }
  </style>
</head>
<body>
  <div class="viewer-container">
    <div class="editor-header">
      <h1>LINE Rich Menu 查看器</h1>
      <div>
        <button id="refresh-richmenu" class="btn btn-primary">重新整理</button>
        <button id="clear-default-richmenu" class="btn btn-warning">清除預設選單</button>
        <button id="back-to-home" class="btn btn-secondary">返回</button>
      </div>
    </div>
    
    <div id="loading" class="loading-section">
      <p>載入中...</p>
    </div>
    
    <div id="richmenu-container">
      <div class="no-richmenu" id="no-richmenu">
        <p>目前沒有 Rich Menu</p>
      </div>
      
      <!-- 添加圖片上傳對話框 -->
      <div id="upload-dialog" class="upload-dialog" style="display: none;">
        <div class="upload-dialog-content">
          <h3>上傳 Rich Menu 圖片</h3>
          <div class="upload-requirements">
            <p><strong>圖片需求：</strong></p>
            <ul>
              <li>格式：JPEG 或 PNG</li>
              <li>寬度：800 到 2500 像素</li>
              <li>高度：至少 250 像素</li>
              <li>長寬比：至少 1.45</li>
              <li>檔案大小：最大 1MB</li>
            </ul>
          </div>
          <div class="image-preview-container">
            <img id="image-preview" src="#" alt="預覽圖片" style="display:none; max-width:100%; max-height:300px;">
            <div id="image-info" class="image-info"></div>
          </div>
          <div class="upload-form">
            <input type="file" id="image-file" accept="image/jpeg, image/png">
            <div class="button-group">
              <button id="upload-button" class="btn btn-primary" disabled>上傳圖片</button>
              <button id="cancel-upload" class="btn btn-secondary">取消</button>
            </div>
          </div>
        </div>
      </div>
      
      <ul id="richmenu-list" class="richmenu-list">
        <!-- Rich Menu 卡片將在這裡生成 -->
      </ul>
    </div>
  </div>
  
  <script src="js/richMenuViewer.js"></script>
  <script src="richMenuViewer.js"></script>
</body>
</html>
